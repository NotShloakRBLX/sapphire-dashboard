<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Apple Card – Visa Demo</title>
<style>
  :root{
    --bg:#0b0b0b;
    --text:#fff;
    --muted:rgba(255,255,255,.65);
    --soft:rgba(255,255,255,.08);
    --border:rgba(255,255,255,.12);
    --shadow:0 12px 34px rgba(0,0,0,.32);
    --t:.28s cubic-bezier(.22,.61,.36,1);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;background:#000;color:var(--text);
    font:15px -apple-system,BlinkMacSystemFont,"SF Pro Text","Segoe UI",Inter,Roboto,Helvetica,Arial,sans-serif;
    -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;
  }

  /* App frame with sliding screens */
  .app{max-width:420px;height:100vh;margin:0 auto;position:relative;overflow:hidden;background:#0b0b0b}
  .screens{display:flex;width:300%;height:100%;transition:transform var(--t)}
  .screen{width:100%;height:100%;overflow:auto;padding-bottom:28px;background:#0b0b0b}
  .screen::-webkit-scrollbar{width:0;height:0}

  /* Top bars */
  .nav{position:sticky;top:0;z-index:5;display:flex;align-items:center;justify-content:space-between;
       padding:14px 16px 10px;background:linear-gradient(180deg,rgba(11,11,11,.9),rgba(11,11,11,.55) 40%,transparent);
       -webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}
  .nav h1{margin:0;font-size:28px;font-weight:800;letter-spacing:.2px}
  .btn-pill{border:1px solid var(--border);background:var(--soft);color:#dfe3ea;padding:6px 10px;border-radius:999px;font-weight:700}
  .iconBtn{width:34px;height:34px;border-radius:50%;display:grid;place-items:center;background:var(--soft);border:1px solid var(--border)}
  .press{transition:transform 120ms ease}.press:active{transform:scale(.97)}

  /* Wallet stack */
  .walletStack{padding:10px 12px 30px}
  .card{position:relative;height:188px;border-radius:18px;overflow:hidden;box-shadow:var(--shadow);cursor:pointer;transition:filter var(--t)}
  .card:not(:first-child){margin-top:-120px}
  .card:hover{filter:brightness(1.03)}
  .visaMark{position:absolute;right:18px;bottom:16px}
  .visaMark svg{height:26px;opacity:.9;filter:drop-shadow(0 2px 6px rgba(0,0,0,.22))}
  .label{position:absolute;left:16px;bottom:14px;font-weight:800;letter-spacing:.2px;text-shadow:0 2px 8px rgba(0,0,0,.3)}

  /* Two different gradients */
  .g1{background:
       radial-gradient(120% 120% at 0% 100%, #ffc3e1 0%, rgba(255,255,255,0) 40%),
       radial-gradient(120% 120% at 100% 0%, #ffd06f 0%, rgba(255,255,255,0) 40%),
       linear-gradient(140deg,#ffb36a 0%, #ffb35c 35%, #ffc785 65%, #ff9f46 100%)}
  .g2{background:
       radial-gradient(120% 120% at 0% 0%, #9ea8ff 0%, rgba(255,255,255,0) 45%),
       radial-gradient(120% 120% at 100% 100%, #ff9ad6 0%, rgba(255,255,255,0) 45%),
       linear-gradient(135deg,#6aa9ff 0%, #7f71ff 50%, #ff76b8 100%)}

  /* Card dashboard */
  .content{padding:12px 14px 26px}
  .bigCard{height:180px;border-radius:20px;overflow:hidden;box-shadow:var(--shadow);position:relative}
  .grid{display:grid;gap:12px;margin-top:12px;grid-template-columns:1fr 1fr}
  .tile{background:var(--soft);border:1px solid var(--border);border-radius:16px;padding:14px;position:relative}
  .kb{font-size:13px;color:var(--muted);margin-bottom:4px}
  .val{font-weight:900;font-size:26px}
  .bars{display:flex;gap:6px;margin-top:8px}
  .bars span{flex:1;height:26px;border-radius:6px;background:rgba(255,255,255,.22);opacity:.28}
  /* Pay circle IN the Payment tile (right-center) */
  .payCircle{
    position:absolute;right:12px;top:50%;transform:translateY(-50%);
    width:64px;height:64px;border-radius:999px;background:#000;color:#fff;
    display:grid;place-items:center;font-weight:900;box-shadow:0 10px 22px rgba(0,0,0,.35);cursor:pointer
  }

  /* List */
  .list{background:var(--soft);border:1px solid var(--border);border-radius:16px;overflow:hidden}
  .row{display:flex;gap:12px;align-items:center;padding:14px;border-top:1px solid rgba(255,255,255,.08)}
  .row:first-child{border-top:0}
  .badge{width:34px;height:34px;border-radius:10px;display:grid;place-items:center;background:#111;border:1px solid rgba(255,255,255,.18)}
  .title{font-weight:800}.sub{color:var(--muted);font-size:12px}

  /* Pay sheet */
  .sheet{position:fixed;inset:0;display:grid;place-items:end center;pointer-events:none;z-index:20}
  .sheet.active{pointer-events:auto}
  .dim{position:absolute;inset:0;background:rgba(0,0,0,.45);opacity:0;transition:opacity var(--t)}
  .sheet.active .dim{opacity:1}
  .panel{width:100%;max-width:420px;background:#fff;color:#000;border-radius:18px 18px 0 0;transform:translateY(100%);transition:transform var(--t);box-shadow:0 -22px 44px rgba(0,0,0,.35)}
  .sheet.active .panel{transform:translateY(0)}
  .closeX{
    position:absolute;left:12px;top:12px;width:34px;height:34px;border-radius:10px;border:0;background:#efefef;
    font-weight:900;font-size:18px;display:grid;place-items:center;cursor:pointer
  }
  .payHeader{padding:14px 42px 4px;text-align:center;font-weight:900;font-size:24px}
  .subDue{color:#666;text-align:center;font-weight:700;margin-bottom:6px}

  /* Ring */
  .ringWrap{position:relative;width:86%;max-width:360px;aspect-ratio:1;margin:8px auto 8px}
  .ringWrap svg{width:100%;height:100%}
  .ringText{position:absolute;inset:0;display:grid;place-items:center;font-weight:900;font-size:44px}
  .ringText small{position:absolute;left:0;right:0;bottom:16%;text-align:center;font-size:11px;letter-spacing:.6px;color:#777;font-weight:800}
  .payInfo{margin:6px 16px 14px;text-align:center;font-weight:800;color:#222}
  .payInfo span{display:block;margin-top:4px;color:#6f6f6f;font-weight:600;line-height:1.35}
  .actions{display:flex;gap:12px;padding:0 16px 18px}
  .btn{flex:1;border-radius:12px;padding:14px 16px;font-weight:900;border:0}
  .ghost{background:#efefef}.primary{background:#000;color:#fff}
  .other{text-align:center;padding-bottom:22px;color:#007aff;font-weight:800}

  /* navigation positions */
  .pos-0 .screens{transform:translateX(0)}
  .pos-1 .screens{transform:translateX(-33.3333%)}
</style>
</head>
<body>
<div id="app" class="app pos-0">
  <div class="screens">

    <!-- Wallet -->
    <section class="screen" id="wallet">
      <div class="nav">
        <h1>Wallet</h1>
        <div style="display:flex;gap:10px">
          <div class="iconBtn"><svg width="16" height="16" viewBox="0 0 24 24" fill="#fff" opacity=".9"><path d="M11 5h2v14h-2zM5 11h14v2H5z"/></svg></div>
          <div class="iconBtn"><svg width="16" height="16" viewBox="0 0 24 24" fill="#fff" opacity=".9"><circle cx="5" cy="12" r="2"/><circle cx="12" cy="12" r="2"/><circle cx="19" cy="12" r="2"/></svg></div>
        </div>
      </div>

      <div class="walletStack">
        <!-- Card 1 (Visa) -->
        <div class="card g1 press openCard" tabindex="0">
          <div class="label">Apple Card</div>
          <div class="visaMark">
            <!-- Minimal VISA SVG wordmark -->
            <svg viewBox="0 0 120 40">
              <path fill="#1846C7" d="M6 31L12 9h10l-6 22H6zm25 0L25 9h10l6 22H31zm20-22h9c5 0 8 2 8 6 0 3-2 5-5 6l7 10h-11l-6-9v9h-9V9zm9 9h2c2 0 3-1 3-2s-1-2-3-2h-2v4zM88 9h10l-7 22H81l7-22zM109 9h9l-6 22h-9l6-22z"/>
            </svg>
          </div>
        </div>

        <!-- Card 2 (Visa) different gradient -->
        <div class="card g2 press openCard" tabindex="0" style="filter:saturate(.98) brightness(.98)">
          <div class="label">Apple Card</div>
          <div class="visaMark">
            <svg viewBox="0 0 120 40">
              <path fill="#1846C7" d="M6 31L12 9h10l-6 22H6zm25 0L25 9h10l6 22H31zm20-22h9c5 0 8 2 8 6 0 3-2 5-5 6l7 10h-11l-6-9v9h-9V9zm9 9h2c2 0 3-1 3-2s-1-2-3-2h-2v4zM88 9h10l-7 22H81l7-22zM109 9h9l-6 22h-9l6-22z"/>
            </svg>
          </div>
        </div>
      </div>
    </section>

    <!-- Card dashboard -->
    <section class="screen" id="card">
      <div class="nav">
        <button class="btn-pill" id="done">Done</button>
        <div style="display:flex;gap:10px">
          <div class="iconBtn"><svg viewBox="0 0 24 24" width="18" height="18" fill="#fff"><path opacity=".9" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 10-.7.7l.27.28v.79l5 4.99L20.49 19l-4.99-5zM9.5 14A4.5 4.5 0 119.5 5a4.5 4.5 0 010 9z"/></svg></div>
          <div class="iconBtn"><svg width="18" height="18" viewBox="0 0 24 24" fill="#fff" opacity=".9"><path d="M4 4h16v2H4zM4 9h16v2H4zM4 14h11v2H4zM4 19h11v2H4z"/></svg></div>
          <div class="iconBtn"><svg width="18" height="18" viewBox="0 0 24 24" fill="#fff" opacity=".95"><circle cx="12" cy="5" r="2"/><circle cx="12" cy="12" r="2"/><circle cx="12" cy="19" r="2"/></svg></div>
        </div>
      </div>

      <div class="content">
        <!-- Big card with Visa mark -->
        <div class="bigCard g1">
          <div class="visaMark" style="right:20px;bottom:18px">
            <svg viewBox="0 0 120 40">
              <path fill="#1846C7" d="M6 31L12 9h10l-6 22H6zm25 0L25 9h10l6 22H31zm20-22h9c5 0 8 2 8 6 0 3-2 5-5 6l7 10h-11l-6-9v9h-9V9zm9 9h2c2 0 3-1 3-2s-1-2-3-2h-2v4zM88 9h10l-7 22H81l7-22zM109 9h9l-6 22h-9l6-22z"/>
            </svg>
          </div>
        </div>

        <div class="grid">
          <div class="tile">
            <div class="kb">Card Balance</div>
            <div class="val" id="bal">$181.43</div>
            <div class="kb" style="margin-top:4px">$11,497.27 Available</div>
          </div>

          <div class="tile" id="payTile">
            <div class="kb">Payment Due In</div>
            <div class="val">1 Week</div>
            <div class="payCircle" id="openPay">Pay</div>
          </div>

          <div class="tile">
            <div class="kb">Weekly Activity</div>
            <div class="kb">+ $0.00 Daily Cash</div>
            <div class="bars"><span></span><span style="height:30px"></span><span style="height:18px"></span><span style="height:24px"></span><span style="height:16px"></span><span style="height:28px"></span><span style="height:12px"></span></div>
          </div>

          <div class="tile">
            <div class="kb">Savings Account</div>
            <div class="val">$70.19</div>
          </div>

          <div class="tile" style="grid-column:1/-1">
            <div class="kb" style="margin-bottom:8px">Latest Card Transactions</div>
            <div class="list">
              <div class="row">
                <div class="badge"><svg viewBox="0 0 24 24" width="18" height="18" fill="#fff"><path d="M16 3H8C5.8 3 4 4.8 4 7v10c0 2.2 1.8 4 4 4h8c2.2 0 4-1.8 4-4V7c0-2.2-1.8-4-4-4z"/></svg></div>
                <div style="flex:1">
                  <div class="title">Apple Store <span class="sub">• Refund</span></div>
                  <div class="sub">7/14/23</div>
                </div>
                <div class="title">+ $40.35</div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <section class="screen"></section>
  </div>

  <!-- PAY SHEET -->
  <div class="sheet" id="sheet">
    <div class="dim" id="dim"></div>
    <div class="panel" id="panel">
      <button class="closeX" id="closeX">×</button>
      <div class="payHeader">Choose Amount</div>
      <div class="subDue">Make payments by 11:59 PM on July 31.</div>

      <div class="ringWrap" id="ringWrap">
        <svg viewBox="0 0 320 320" id="ringSvg">
          <defs>
            <linearGradient id="gradBlue" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" stop-color="#51c0ff"/><stop offset="100%" stop-color="#0a84ff"/>
            </linearGradient>
            <linearGradient id="gradGreen" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" stop-color="#a8f17a"/><stop offset="100%" stop-color="#34c759"/>
            </linearGradient>
            <linearGradient id="gradGray" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" stop-color="#e9ecef"/><stop offset="100%" stop-color="#cfd8dc"/>
            </linearGradient>
            <filter id="glow"><feGaussianBlur stdDeviation="2" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
          </defs>
          <circle cx="160" cy="160" r="120" stroke="rgba(0,0,0,.08)" stroke-width="26" fill="none"/>
          <circle id="progress" cx="160" cy="160" r="120" stroke="url(#gradBlue)" stroke-width="26" fill="none" stroke-linecap="round" transform="rotate(-90 160 160)" stroke-dasharray="753.98" stroke-dashoffset="753.98" filter="url(#glow)"/>
          <circle id="handle" cx="160" cy="40" r="12" fill="#fff" stroke="#e5e5e5" stroke-width="2"/>
        </svg>
        <div class="ringText">
          <div id="amountLabel">$0.00</div>
          <small>NO INTEREST CHARGES</small>
        </div>
      </div>

      <div class="payInfo" id="payInfo">
        Pay Card Balance
        <span>Paying the total amount you’ve spent is a great way to clear your balance and stay ahead on your finances.</span>
      </div>

      <div class="actions">
        <button class="btn ghost">Schedule</button>
        <button class="btn primary" id="payNow">Pay $0.00</button>
      </div>
      <div class="other" id="otherBtn">Other Amount</div>
    </div>
  </div>
</div>

<script>
(() => {
  const app = document.getElementById('app');
  document.querySelectorAll('.openCard').forEach(el=>{
    el.addEventListener('click',()=> app.className='app pos-1');
    el.addEventListener('keypress',e=>{ if(e.key==='Enter') app.className='app pos-1'; });
  });
  document.getElementById('done').addEventListener('click',()=> app.className='app pos-0');

  /* Pay sheet open/close */
  const sheet = document.getElementById('sheet');
  const dim   = document.getElementById('dim');
  const openPay = document.getElementById('openPay');
  const closeX = document.getElementById('closeX');
  const close = ()=> sheet.classList.remove('active');
  openPay.addEventListener('click',()=> sheet.classList.add('active'));
  dim.addEventListener('click',close);
  closeX.addEventListener('click',close);
  document.addEventListener('keydown',e=>{ if(e.key==='Escape') close(); });

  /* Ring slider with default = $0.00 */
  const fullBalance = 181.43;
  const min = 0;               // start at zero
  let amount = 0;

  const progress = document.getElementById('progress');
  const handle   = document.getElementById('handle');
  const amountLabel = document.getElementById('amountLabel');
  const payNow = document.getElementById('payNow');
  const ringWrap = document.getElementById('ringWrap');
  const ringSvg  = document.getElementById('ringSvg');
  const circ = 2*Math.PI*120;

  function setAmount(v, fromDrag=false){
    v = Math.max(min, Math.min(fullBalance, v));
    amount = Number(v.toFixed(2));
    amountLabel.textContent = `$${amount.toFixed(2)}`;
    payNow.textContent = `Pay $${amount.toFixed(2)}`;

    const frac = (amount - min)/(fullBalance - min);           // 0..1
    const dash = circ * (1 - frac);
    if(!fromDrag) progress.style.transition = 'stroke-dashoffset 260ms ease, stroke 260ms ease';
    else progress.style.transition = 'none';
    progress.setAttribute('stroke-dashoffset', String(dash));

    // color state
    let strokeRef = 'url(#gradGreen)';
    if(frac === 0) strokeRef = 'url(#gradGray)';
    if(frac > .985) strokeRef = 'url(#gradBlue)';
    progress.setAttribute('stroke', strokeRef);

    // handle position
    const angle = -90 + 360*frac;
    const r = 120, cx = 160 + r*Math.cos(angle*Math.PI/180), cy = 160 + r*Math.sin(angle*Math.PI/180);
    handle.setAttribute('cx', cx.toFixed(2));
    handle.setAttribute('cy', cy.toFixed(2));
  }

  // Drag handling (ring or handle)
  let dragging=false;
  function pointerToAmount(evt){
    const rect = ringWrap.getBoundingClientRect();
    const x = (evt.touches?evt.touches[0].clientX:evt.clientX) - rect.left;
    const y = (evt.touches?evt.touches[0].clientY:evt.clientY) - rect.top;
    const cx = rect.width/2, cy = rect.height/2;
    let ang = Math.atan2(y-cy, x-cx) * 180/Math.PI + 90;
    if(ang<0) ang += 360;
    const frac = ang/360;
    return min + frac*(fullBalance-min);
  }
  const start = e=>{ dragging=true; setAmount(pointerToAmount(e), true); e.preventDefault(); }
  const move  = e=>{ if(!dragging) return; setAmount(pointerToAmount(e), true); }
  const end   = ()=>{ dragging=false; setAmount(amount,false); }
  handle.addEventListener('mousedown', start);
  handle.addEventListener('touchstart', start, {passive:false});
  ringSvg.addEventListener('mousedown', start);
  ringSvg.addEventListener('touchstart', start, {passive:false});
  window.addEventListener('mousemove', move);
  window.addEventListener('touchmove', move, {passive:false});
  window.addEventListener('mouseup', end);
  window.addEventListener('touchend', end);

  // Other Amount prompt
  document.getElementById('otherBtn').addEventListener('click',()=>{
    const raw = prompt(`Enter a payment amount between $${min.toFixed(2)} and $${fullBalance.toFixed(2)}`, amount.toFixed(2));
    if(!raw) return;
    const v = parseFloat(raw.replace(/[^\d.]/g,''));
    if(isFinite(v)) setAmount(v);
  });

  // Initialize to $0.00
  setAmount(0);
})();
</script>
</body>
</html>
