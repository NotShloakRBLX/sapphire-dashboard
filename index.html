<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
<title>Sapphire Reserve</title>
<link rel="stylesheet" href="styles.css" />
</head>
<body>
<div class="app pos-0" id="app">
  <div class="views">
    <!-- HOME / CARD VIEW -->
    <section class="view" id="card">
      <div class="nav">
        <h1>Sapphire Reserve</h1>
        <div class="iconrow">
          <div class="iconbtn" aria-label="Search">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="#fff"><path opacity=".9" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 10-.7.7l.27.28v.79l5 4.99L20.49 19l-4.99-5zM9.5 14C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
          </div>
          <div class="iconbtn" id="openAddTxn" aria-label="List">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="#fff"><path opacity=".9" d="M4 4h16v2H4zM4 9h16v2H4zM4 14h11v2H4zM4 19h11v2H4z"/></svg>
          </div>
          <div class="iconbtn" id="openBalances" aria-label="More">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="#fff"><circle cx="12" cy="5" r="2"/><circle cx="12" cy="12" r="2"/><circle cx="12" cy="19" r="2"/></svg>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="bigCard grad1" id="bigCard">
          <div class="visa"><img src="./my-logo.png" alt="Card Brand"></div>
        </div>

        <div class="grid">
          <div class="tile compact" id="cardBalTile">
            <div class="kb">Card Balance</div>
            <p class="val" id="cardBalance">$0.00</p>
            <p class="micro" id="availableBalance">$0.00 Available</p>
          </div>

          <div class="tile dueTile dueTall" id="dueTile">
            <p class="dueHeader">Payment Due In</p>
            <div class="dueVal"><span class="num">1</span><span class="unit">Month</span></div>
            <button class="payBubble" id="openPay">Pay</button>
          </div>

          <div class="tile compact" id="cashbackTile" style="cursor:pointer">
            <div class="kb">Cashback</div><p class="val" id="cashback">$0.00</p>
          </div>

          <div class="tile full"><div class="kb">Savings Account</div><div class="val">$756.34</div></div>

          <div class="tile full" id="txnsTile">
            <div class="kb" style="margin-bottom:8px">Latest Card Transactions</div>
            <div id="txnList"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- TXN DETAIL VIEW -->
    <section class="view" id="txnView">
      <div class="nav"><button class="pill" id="backTxn">Back</button><div class="iconrow"></div></div>
      <div class="txnHeader">
        <div class="txnDetailIcon"><img id="txnIcon" src="./payment-icon.png" alt=""></div>
        <div class="txnAmount" id="txnAmount">$0.00</div>
        <div class="txnMerchant" id="txnMerchant">Merchant</div>
        <div class="txnDate" id="txnDate">MM/DD/YY, 0:00 PM</div>
      </div>
      <div class="tile block">
        <div class="statusLine" id="txnStatus"><strong>Status: Approved</strong></div>
        <div class="micro" id="txnCard">Sapphire Reserve</div>
      </div>
      <div class="row"><h3>Total</h3><div class="right" id="txnTotal">$0.00</div></div>
      <div class="row" id="cashbackRow"><h3>Cashback</h3><div class="right" id="txnCashback">$0.00</div></div>
      <div class="row hidden" id="depositTargetRow"><h3>Deposited To</h3><div class="right" id="depositTargetValue">•••• 0000</div></div>
      <div class="deleteWrap"><button class="deleteBtn" id="deleteTxnBtn">Delete Transaction</button></div>
    </section>

    <!-- NEW: PAY CONFIRMATION VIEW -->
    <section class="view" id="payPage">
      <div class="nav">
        <button class="pill" id="payBackBtn">Back</button>
        <div class="iconrow"><button class="pill" id="payCancelBtn">Cancel</button></div>
      </div>
      <div class="content">
        <div class="payTitle">Pay Card</div>
        <div class="payAmount" id="payAmountLabel">$0.00</div>

        <div class="kb" style="margin:8px 2px 8px" id="transferLabel">Transfer from</div>
        <div class="payBox" id="openAcctPicker" aria-label="Choose an account">
          <div class="bankIcon"><img src="./chase-icon.png" alt=""></div>
          <div style="flex:1">
            <div class="label">From</div>
            <div class="name" id="fromAcctName">Savings •••• 9124</div>
            <div class="micro">Available</div>
          </div>
          <div class="chev">›</div>
        </div>

        <div class="spacer"></div>

        <div class="slideWrap" id="slideWrap" aria-label="Slide to confirm">
          <div class="slideFill" id="slideFill"></div>
          <div class="slideThumb" id="slideThumb">➜</div>
          <div class="slideLabel" id="slideLabel">Slide to confirm</div>
        </div>
      </div>
    </section>
  </div>

  <!-- Payment sheet (DARK, includes amount picker) -->
  <div class="sheet dark" id="sheet">
    <div class="dim" id="dim"></div>
    <div class="panel">
      <div class="panelHead"><button class="closeX" id="closeSheet" aria-label="Close">×</button></div>
      <div class="title">Choose Amount</div>

      <div class="ringWrap" id="ringWrap">
        <svg viewBox="0 0 320 320" id="ringSvg" aria-hidden="true">
          <defs>
            <linearGradient id="gradBlue" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stop-color="#51c0ff"/><stop offset="100%" stop-color="#0a84ff"/></linearGradient>
            <linearGradient id="gradGreen" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stop-color="#b8ffb9"/><stop offset="100%" stop-color="#34c759"/></linearGradient>
            <linearGradient id="gradGray"  x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stop-color="#e9ecef"/><stop offset="100%" stop-color="#cfd8dc"/></linearGradient>
          </defs>
          <circle cx="160" cy="160" r="120" stroke="#e9e9ef" stroke-opacity=".65" stroke-width="26" fill="none"/>
          <circle id="progress" cx="160" cy="160" r="120" stroke="url(#gradGray)" stroke-width="26" fill="none"
                  stroke-linecap="round" transform="rotate(-90 160 160)" />
          <circle id="handle" cx="160" cy="40" r="12" fill="#fff" stroke="#e6e6e6" stroke-width="2"/>
        </svg>
        <div class="centerText" aria-live="polite" aria-atomic="true"><div class="amt" id="amountLabel">$0.00</div></div>
      </div>

      <div class="info" id="payInfo">
        Pay Card Balance
        <small>Paying the total amount you’ve spent is a great way to clear your balance.</small>
      </div>

      <div class="actions"><button class="btn primary" id="payNowBtn">Pay $0.00</button></div>
      <div class="other" id="otherAmountBtn">Other Amount</div>
    </div>
  </div>

  <!-- Cashback sheet (dark) -->
  <div class="sheet dark" id="cashbackSheet" aria-hidden="true">
    <div class="dim" id="cbDim"></div>
    <div class="panel">
      <div class="subviews" id="cbViews">
        <div class="page">
          <div class="panelHead"><button class="closeX" id="cbClose1" aria-label="Close">×</button></div>
          <div class="title">Choose amount to deposit</div>
          <div class="ringWrap" id="cbRingWrap">
            <svg viewBox="0 0 320 320" id="cbRingSvg" aria-hidden="true">
              <defs>
                <linearGradient id="cbGradGreen" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stop-color="#b8ffb9"/><stop offset="100%" stop-color="#34c759"/></linearGradient>
                <linearGradient id="cbGradGray"  x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stop-color="#e9ecef"/><stop offset="100%" stop-color="#cfd8dc"/></linearGradient>
              </defs>
              <circle cx="160" cy="160" r="120" stroke="#e9e9ef" stroke-opacity=".65" stroke-width="26" fill="none"/>
              <circle id="cbProgress" cx="160" cy="160" r="120" stroke="url(#cbGradGray)" stroke-width="26" fill="none"
                      stroke-linecap="round" transform="rotate(-90 160 160)" />
              <circle id="cbHandle" cx="160" cy="40" r="12" fill="#fff" stroke="#e6e6e6" stroke-width="2"/>
            </svg>
            <div class="centerText"><div class="amt" id="cbAmountLabel">$0.00</div></div>
          </div>
          <div class="info">Choose amount to deposit<small>Choose amount of cashback to deposit.</small></div>
          <div class="actions"><button class="btn primary" id="cbDepositBtn" disabled>Deposit $0.00</button></div>
        </div>
        <div class="page">
          <div class="panelHead"><button class="closeX" id="cbClose2" aria-label="Close">×</button></div>
          <div class="title">Deposit</div>
          <div class="divider"></div>
          <p class="subtle">Deposit via ACH</p>
          <div class="form" style="padding-top:0">
            <label>Account Number</label><input id="cbAcct" inputmode="numeric" placeholder="0000000000" />
            <label>Routing Number</label><input id="cbRouting" inputmode="numeric" placeholder="000000000" />
          </div>
          <div class="actions" style="gap:10px"><button class="btn green" id="cbSubmit">Deposit</button><button class="btn gray" id="cbCancel">Cancel</button></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Card details sheet -->
  <div class="sheet" id="cardSheet" aria-hidden="true">
    <div class="dim" id="cardDim"></div>
    <div class="panel">
      <div class="panelHead"><button class="closeX" id="closeCardSheet" aria-label="Close">×</button></div>
      <div class="title">Card Details</div>
      <div class="cardFields">
        <div class="row"><h3>Card Number</h3><div class="right" id="cdNumber">0000 0000 0000 0000</div></div>
        <div class="row"><h3>Expiry</h3><div class="right" id="cdExpiry">MM/YY</div></div>
        <div class="row"><h3>Security Code</h3><div class="right" id="cdCvv">000</div></div>
      </div>
    </div>
  </div>

  <!-- Add / Confirm Txn sheets -->
  <div class="sheet" id="addTxnSheet" aria-hidden="true">
    <div class="dim" id="addTxnDim"></div>
    <div class="panel">
      <div class="panelHead"><button class="closeX" id="closeAddTxn" aria-label="Close">×</button></div>
      <div class="title">Add Transaction</div>
      <div class="form">
        <label for="txMerchant">Merchant</label><input id="txMerchant" type="text" placeholder="e.g., Starbucks" />
        <label for="txAmount">Amount</label><input id="txAmount" type="number" step="0.01" inputmode="decimal" placeholder="0.00" />
        <label for="txWhen">Date &amp; Time</label><input id="txWhen" type="datetime-local" />
        <label for="txStatus">Status</label>
        <select id="txStatus"><option>Approved</option><option>Refunded</option><option>Posted</option></select>

        <label for="txCategory">Category</label>
        <select id="txCategory">
          <option value="food">Food/Drinks</option>
          <option value="gaming">Gaming</option>
          <option value="streaming">Streaming</option>
          <option value="travel">Travel</option>
          <option value="messaging">Messaging</option>
          <option value="shopping">Shopping</option>
          <option value="payment">Payment</option>
        </select>
      </div>
      <div class="actions"><button class="btn" style="background:#34c759;color:#000;font-weight:900" id="txContinue"><span class="smallIcon">✔︎</span>Continue</button></div>
      <div class="other" id="txCancelFromForm">Cancel</div>
    </div>
  </div>

  <div class="sheet" id="confirmTxnSheet" aria-hidden="true">
    <div class="dim" id="confirmDim"></div>
    <div class="panel">
      <div class="panelHead"><button class="closeX" id="closeConfirm" aria-label="Close">×</button></div>
      <div class="title">Confirm Transaction</div>
      <div class="summary" id="confirmSummary"></div>
      <div class="actions"><button class="btn primary" id="confirmAddBtn">Add Transaction</button></div>
      <div class="other" id="editTxnBtn">Go Back &amp; Edit</div>
    </div>
  </div>

  <!-- Update Balances sheet -->
  <div class="sheet" id="balancesSheet" aria-hidden="true">
    <div class="dim" id="balancesDim"></div>
    <div class="panel">
      <div class="panelHead"><button class="closeX" id="closeBalances" aria-label="Close">×</button></div>
      <div class="title">Update Balances</div>
      <div class="form">
        <label for="editCardBalance">Card Balance</label>
        <input id="editCardBalance" type="number" step="0.01" inputmode="decimal" placeholder="0.00" />
        <label for="editAvailableBalance">Available</label>
        <input id="editAvailableBalance" type="number" step="0.01" inputmode="decimal" placeholder="0.00" />
        <label for="editCashback">Cashback</label>
        <input id="editCashback" type="number" step="0.01" inputmode="decimal" placeholder="0.00" />
      </div>
      <div class="actions" style="gap:10px">
        <button class="btn green" id="balancesSaveBtn">Save</button>
        <button class="btn gray" id="balancesCancelBtn">Cancel</button>
      </div>
    </div>
  </div>

  <!-- NEW: Account picker sheet (dark) -->
  <div class="sheet dark" id="acctSheet" aria-hidden="true">
    <div class="dim" id="acctDim"></div>
    <div class="panel">
      <div class="panelHead"><button class="closeX" id="acctClose" aria-label="Close">×</button></div>
      <div class="title">Choose an account</div>
      <div id="acctList">
        <label class="acctRow">
          <input type="radio" name="acct" value="Savings •••• 9124" checked />
          <img src="./chase-icon.png" alt="">
          <div class="names"><div class="big">Savings •••• 9124</div><div class="small">Available</div></div>
        </label>
        <label class="acctRow">
          <input type="radio" name="acct" value="Checking •••• 2143" />
          <img src="./chase-icon.png" alt="">
          <div class="names"><div class="big">Checking •••• 2143</div><div class="small">Available</div></div>
        </label>
        <label class="acctRow">
          <input type="radio" name="acct" value="TOTAL CHECKING (••• 6750)" />
          <img src="./chase-icon.png" alt="">
          <div class="names"><div class="big">TOTAL CHECKING (…6750)</div><div class="small">Available</div></div>
        </label>
      </div>
      <div class="actions" style="gap:10px"><button class="btn primary" id="acctSave">Save</button></div>
    </div>
  </div>
</div>

<script defer src="app.js"></script>
</body>
</html>
