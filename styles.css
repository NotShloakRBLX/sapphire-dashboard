:root{
  --bg:#0b0b0b;
  --tile:rgba(255,255,255,.06);
  --tileBorder:rgba(255,255,255,.10);
  --text:#fff;
  --muted:rgba(255,255,255,.62);
  --shadow:0 14px 40px rgba(0,0,0,.40);
  --t:.35s cubic-bezier(.2,.8,.2,1);
  --radiusCard:28px;
  --radiusTile:8px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:#000;color:var(--text);
  font:15px -apple-system,BlinkMacSystemFont,"SF Pro Text",Inter,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  -webkit-font-smoothing:antialiased}
.app{max-width:430px;height:100svh;margin:0 auto;position:relative;overflow:hidden;background:var(--bg)}
/* support 3 views */
.views{display:flex;width:300%;height:100%;transition:transform var(--t)}
.view{width:100%;height:100%;overflow:auto;padding-bottom:28px;background:linear-gradient(#0b0b0b,#0b0b0b 50%,#0a0a0a)}
.view::-webkit-scrollbar{width:0;height:0}
.nav{position:sticky;top:0;z-index:5;display:flex;align-items:center;justify-content:space-between;
  padding:14px 14px 10px;background:linear-gradient(180deg,rgba(10,10,10,.95),rgba(10,10,10,.55) 40%,transparent);
  -webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}
.nav h1{margin:0;font-size:28px;font-weight:800}
.pill{border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.06);border-radius:999px;padding:6px 10px;font-weight:700}
.iconbtn{width:34px;height:34px;border-radius:999px;background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.14);display:grid;place-items:center;transition:transform var(--t)}
.iconbtn:active{transform:scale(.96)}
.iconrow{display:flex;gap:10px}
.content{padding:6px 12px 28px}

.bigCard{height:212px;border-radius:7px;overflow:hidden;box-shadow:var(--shadow);position:relative}
.bigCard .visa{right:22px;bottom:18px}
.grad1{background:
  radial-gradient(120% 120% at 95% 95%,rgba(0,0,0,0) 45%,rgba(0,0,0,0.75) 70%,#000 100%),
  linear-gradient(110deg,#5d00bb 0%,#5d00bb 55%,#000 82%,#000 100%);}
.visa{position:absolute;right:29px;bottom:26px}
.visa svg{width:150px;height:auto;filter:drop-shadow(0 4px 12px rgba(0,0,0,.35))}

.grid{margin-top:16px;display:grid;grid-template-columns:1fr 1fr;gap:12px;}
.tile{background:var(--tile);border:1px solid var(--tileBorder);border-radius:var(--radiusTile);padding:14px 16px;position:relative}
.kb{font-size:13px;color:var(--muted);margin:0 0 6px}
.val{font-size:26px;font-weight:800;margin:0}
.micro{font-size:12px;color:var(--muted);margin-top:4px}
.compact{padding:12px 14px}
.compact .kb{margin-bottom:2px}
.compact .val{font-size:25px}
.compact .micro{margin-top:0}
.full{grid-column:1/-1}

/* Due tile + pay bubble */
.dueTile{padding:12px 16px 16px}
.dueTall{grid-row:span 2;}
.dueHeader{margin:0 0 4px;color:var(--muted);font-size:13px}
.dueVal{line-height:1}
.dueVal .num{display:block;font-size:40px;font-weight:900;letter-spacing:-.3px}
.dueVal .unit{display:block;font-size:26px;font-weight:900;margin-top:2px;letter-spacing:-.2px}
.payBubble{position:absolute;right:14px;bottom:14px;width:56px;height:56px;border-radius:50%;
  background:#000;color:#fff;display:grid;place-items:center;font-weight:900;letter-spacing:.2px;
  border:none;outline:none;-webkit-tap-highlight-color:transparent;box-shadow:0 10px 24px rgba(0,0,0,.45);font-size:14px;}
.payBubble:active{transform:scale(.95)}

/* iOS-style stacked transactions (updated to match Apple-style list) */
.txnRow{display:flex;gap:12px;align-items:flex-start;background:transparent;border:0;border-radius:12px;
  padding:14px 16px;cursor:pointer;position:relative}
.txnRow + .txnRow{margin-top:0}
.txnIcon{width:54px;height:54px;border-radius:12px;background:rgba(255,255,255,.10);display:grid;place-items:center;flex:0 0 54px}
.txnIcon img{width:30px;height:30px;object-fit:contain;filter:drop-shadow(0 1px 6px rgba(0,0,0,.25))}
.txnMain{flex:1}
.txnTitle{font-weight:800}
.txnSub{color:var(--muted);font-size:12px;margin-top:2px}
.txnAmt{font-weight:600}
.txnRight{display:flex;align-items:flex-start;gap:8px}
.chev{opacity:.55;font-size:20px;line-height:1;margin-top:1px}

/* Group container with sharper corners; inset separators that donâ€™t span full width */
.txnStack{border:1px solid rgba(255,255,255,.10);border-radius:12px;overflow:hidden;background:rgba(255,255,255,.035)}
.txnStack .txnRow{padding:16px 16px;background:transparent;border-radius:0}
.txnStack .txnRow + .txnRow::before{content:"";position:absolute;left:92px;right:16px;top:0;height:1px;background:rgba(255,255,255,.08)}

/* positions for 3 views */
.pos-0 .views{transform:translateX(0%)} 
.pos-1 .views{transform:translateX(-33.333333%)} 
.pos-2 .views{transform:translateX(-66.666666%)}

.txnHeader{padding:28px 18px 10px;text-align:center}
.txnAmount{font-size:60px;font-weight:900;letter-spacing:-.5px}
.txnMerchant{color:var(--muted);font-size:22px;font-weight:700;margin-top:6px}
.txnDate{color:var(--muted);font-size:16px;margin-top:4px}
.block{margin:14px 12px}
.row{margin:14px 12px;display:flex;justify-content:space-between;align-items:center;
  padding:16px;background:var(--tile);border:1px solid var(--tileBorder);border-radius:var(--radiusTile)}
.row h3{margin:0;font-size:18px}
.row .right{font-weight:900;font-size:18px}
.statusLine{font-size:18px;margin-bottom:4px}

.txnDetailIcon{width:72px;height:72px;border-radius:0px;background:rgba(255,255,255,.80);border:0px solid rgba(255,255,255,.12);
  display:grid;place-items:center;margin:0 auto 10px}
.txnDetailIcon img{width:44px;height:44px;object-fit:contain;filter:drop-shadow(0 2px 8px rgba(0,0,0,.30))}

/* Bottom sheet */
.sheet{position:fixed;inset:0;display:grid;place-items:end center;pointer-events:none;z-index:9}
.sheet.active{pointer-events:auto}
.dim{position:absolute;inset:0;background:rgba(0,0,0,.45);opacity:0;transition:opacity var(--t)}
.sheet.active .dim{opacity:1}
.panel{width:100%;max-width:430px;background:#fff;color:#000;border-radius:20px 20px 0 0;transform:translateY(100%);
  transition:transform var(--t);box-shadow:0 -20px 40px rgba(0,0,0,.35)}
.sheet.active .panel{transform:translateY(0)}
.panelHead{display:flex;align-items:center;justify-content:center;padding:12px 14px 0;position:relative}
.closeX{position:absolute;left:14px;top:8px;width:36px;height:36px;border-radius:10px;border:none;background:#efefef;font-size:20px;font-weight:900;cursor:pointer}
.title{font-size:28px;font-weight:900;margin:6px 0 0;text-align:center}
.ringWrap{position:relative;width:86%;max-width:360px;aspect-ratio:1;margin:12px auto 12px}
.ringWrap svg{width:100%;height:100%}
.centerText{position:absolute;inset:0;display:grid;place-items:center;text-align:center;pointer-events:none}
.amt{font-weight:900;font-size:44px}
.info{padding:0 14px 8px;text-align:center;font-weight:900;color:#1d1d1d}
.info small{display:block;margin-top:4px;color:#6a6a6a;font-weight:600}
.actions{display:flex;justify-content:center;padding:0 14px 18px}
.btn{border-radius:14px;padding:14px 22px;font-weight:900;border:0;cursor:pointer}
.primary{background:#000;color:#fff;min-width:65%}
.btn.green{background:#34c759;color:#000;font-weight:900}
.btn.gray{background:#efefef;color:#000;font-weight:900}
.other{text-align:center;padding-bottom:20px;color:#007aff;font-weight:900}

/* Make payment & cashback sheets dark */
.sheet.dark .panel{background:#111;color:#fff}
.sheet.dark .closeX{background:#1f1f1f;color:#fff;border:1px solid #2a2a2a}
.sheet.dark .info{color:#dcdcdc}
.sheet.dark .info small{color:#9a9a9a}

/* SUCCESS VIEW inside same sheet */
.sheet.success .title,.sheet.success .ringWrap,.sheet.success .info,.sheet.success .actions,.sheet.success .other{display:none}
.payReceipt{display:none;color:#fff;text-align:center;padding:14px 16px 28px}
.sheet.success .payReceipt{display:block}
.payCheck{width:124px;height:124px;border-radius:50%;background:conic-gradient(#b8ffb9,#34c759);padding:10px;margin:2px auto 12px}
.payCheck .inner{width:100%;height:100%;border-radius:50%;background:#111;display:grid;place-items:center}
.payCheck svg{width:60px;height:60px}
.payTitle{font-size:40px;font-weight:900;margin:6px 0 8px}
.paySub{color:#cfcfcf;font-weight:800;line-height:1.35}

.cardFields{padding:6px 12px 20px}
.visa svg, .visa img{width:55px;height:auto;filter:drop-shadow(0 4px 12px rgba(0,0,0,.35))}
.bigCard .visa{right:10px;bottom:12px}

.form{padding:8px 14px 18px}
.form label{display:block;font-weight:800;margin:12px 0 6px}
.form input,.form select{width:100%;padding:12px 12px;border-radius:12px;border:1px solid #d9d9d9;font:inherit}
.smallIcon{display:inline-block;vertical-align:-3px;margin-right:8px}
.summary{padding:0 14px 14px;color:#1d1d1d;font-weight:700}
.summary b{color:#000}
.deleteWrap{padding:0 12px 24px}
.deleteBtn{width:100%;border:0;border-radius:14px;padding:14px 18px;font-weight:900;background:#ff3b30;color:#fff}
.subviews{display:flex;width:200%;transition:transform var(--t)}
.page{width:100%}
.divider{height:1px;background:#e9e9e9;margin:6px 14px 10px}
.subtle{color:#6a6a6a;font-weight:700;margin:0 14px 10px}
.hidden{display:none !important}
#cardBalTile{padding-bottom:8px} #cardBalTile>:last-child{margin-bottom:0}

/* === Tighten list visuals === */
:root{ --iconSize:36px; --iconGap:12px; --listPadX:16px; }
.txnIcon{width:var(--iconSize);height:var(--iconSize);flex:0 0 var(--iconSize);display:grid;place-items:center;background:transparent;border-radius:0;box-shadow:none}
.txnIcon img{width:var(--iconSize);height:var(--iconSize);object-fit:contain;filter:none}
.txnStack .txnRow{padding:16px var(--listPadX)}
.txnStack .txnRow + .txnRow::before{content:"";position:absolute;top:0;left:calc(var(--listPadX) + var(--iconSize) + var(--iconGap));right:var(--listPadX);height:1px;background:rgba(255,255,255,.08)}
.txnDetailIcon{width:auto;height:auto;background:transparent;border:0;border-radius:0;box-shadow:none;margin:0 auto 14px}
.txnDetailIcon img{width:72px;height:72px;object-fit:contain;filter:none}
.amtWrap{display:flex;flex-direction:column;align-items:flex-end;gap:6px}
.cbChip{font-size:12px;line-height:1;padding:3px 6px;border-radius:6px;background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.14)}
.txnStack .txnRow + .txnRow::before{left:calc(var(--listPadX) + var(--iconSize))}
#txnsTile{border-radius:6px}
.txnStack{border-radius:6px}

/* ===== Pay Confirmation View (dark) ===== */
#payPage .content{padding:14px 14px 24px}
.payTitle{font-size:24px;font-weight:900;margin:4px 0 10px}
.payAmount{font-size:64px;line-height:1;font-weight:900;letter-spacing:-.5px;margin:6px 0 18px}
.payBox{display:flex;gap:12px;align-items:center;padding:16px;border-radius:14px;background:rgba(255,255,255,.06);border:1px solid var(--tileBorder);cursor:pointer}
/* icon container without black box */
.payBox .bankIcon{width:36px;height:36px;border-radius:0;background:transparent;display:grid;place-items:center}
.payBox .bankIcon img{width:26px;height:26px;object-fit:contain}
.payBox .label{font-size:13px;color:var(--muted);margin-bottom:2px}
.payBox .name{font-weight:800}
.spacer{height:16px}
/* Slide to confirm */
.slideWrap{margin-top:18px;position:relative;height:60px;border-radius:999px;background:rgba(255,255,255,.06);border:1px solid var(--tileBorder);user-select:none;overflow:hidden}
.slideFill{position:absolute;left:4px;top:4px;bottom:4px;width:0;border-radius:999px;background:linear-gradient(90deg,#51c0ff,#0a84ff);pointer-events:none;transition:width .15s ease}
.slideThumb{position:absolute;top:4px;left:4px;width:52px;height:52px;border-radius:999px;background:#0d0d0d;display:grid;place-items:center;font-size:24px;font-weight:900;box-shadow:0 8px 18px rgba(0,0,0,.45);touch-action:none;z-index:2}
.slideLabel{position:absolute;inset:0;display:grid;place-items:center;font-weight:900;color:rgba(255,255,255,.6);pointer-events:none;z-index:0}
.slideDone{background:#0a84ff}
/* loading chip */
.loadingChip{position:fixed;left:50%;bottom:26px;transform:translateX(-50%);background:rgba(255,255,255,.09);
  border:1px solid rgba(255,255,255,.14);border-radius:14px;padding:10px 14px;display:flex;align-items:center;gap:10px;backdrop-filter:blur(6px)}
.spinner{width:18px;height:18px;border-radius:50%;border:3px solid rgba(255,255,255,.25);border-top-color:#fff;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* Account picker rows */
.acctRow{display:flex;align-items:center;gap:12px;padding:12px 16px;border-radius:12px;background:rgba(255,255,255,.06);border:1px solid var(--tileBorder);margin:10px 14px}
.acctRow img{width:28px;height:28px}
.acctRow .names{flex:1}
.acctRow .names .big{font-weight:800}
.acctRow .names .small{color:var(--muted);font-size:12px;margin-top:2px}
.acctRow input{accent-color:#0a84ff;transform:scale(1.1)}

/* === New slider adornments === */
.centerBadge{position:absolute;inset:auto;pointer-events:none;display:none}
.centerBadge svg{width:22px;height:22px}
.centerBadge.show{display:block}
#minDot{cursor:pointer;filter:drop-shadow(0 0 4px rgba(0,0,0,.35))}
